<!DOCTYPE html>

<html lang="zh-Hans"  dir="ltr"

>

<head>
  <title class="p-name">Hybrid #4 - Rongbin&#39;s Blog</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<meta name="description"
    content="SUMMER DAYS / Moritz Schorpp - DECALOGUE Magazine




摘录
#


It took me a long time to figure out why founders don&rsquo;t listen. At first I thought it was mere stubbornness. That&rsquo;s part of the reason, but another and probably more important reason is that so much about startups is counterintuitive. And when you tell someone something counterintuitive, what it sounds to them is wrong. So the reason founders don&rsquo;t listen to us is that they don&rsquo;t believe us. At least not till experience teaches them otherwise. ">
<meta name="author p-author" content="Rongbin FAN" href="https://fanrongbin.com">

<meta property="og:title" content='Hybrid #4 - Rongbin&#39;s Blog' />
<meta property="og:description" content="SUMMER DAYS / Moritz Schorpp - DECALOGUE Magazine




摘录
#


It took me a long time to figure out why founders don&rsquo;t listen. At first I thought it was mere stubbornness. That&rsquo;s part of the reason, but another and probably more important reason is that so much about startups is counterintuitive. And when you tell someone something counterintuitive, what it sounds to them is wrong. So the reason founders don&rsquo;t listen to us is that they don&rsquo;t believe us. At least not till experience teaches them otherwise. " />
<meta property="og:url" content="https://fanrongbin.com/hybrid-4/" />
<meta property="og:image" content="https://fanrongbin.com/apple-touch-icon.png" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://fanrongbin.com/apple-touch-icon.png" />
<meta name="twitter:title" content='Hybrid #4 - Rongbin&#39;s Blog' />
<meta name="twitter:description" content="SUMMER DAYS / Moritz Schorpp - DECALOGUE Magazine




摘录
#


It took me a long time to figure out why founders don&rsquo;t listen. At first I thought it was mere stubbornness. That&rsquo;s part of the reason, but another and probably more important reason is that so much about startups is counterintuitive. And when you tell someone something counterintuitive, what it sounds to them is wrong. So the reason founders don&rsquo;t listen to us is that they don&rsquo;t believe us. At least not till experience teaches them otherwise. " />

<link rel="canonical" href="https://fanrongbin.com/hybrid-4/" />






      <link rel="stylesheet" href="/css/main.min.7154fca98a197f082c4a1ebc1e6ac393acd86e4855b1bd5fe96cdc9e33524de8.css" integrity="sha256-cVT8qYoZfwgsSh68HmrDk6zYbkhVsb1f6WzcnjNSTeg=" crossorigin="anonymous">

<link rel="stylesheet" href="/han.min.css" type="text/css">





<link rel="alternate" type="application/activity+json" href="https://fed.brid.gy/r/https://fanrongbin.com/hybrid-4/">

<link rel="webmention" href="https://webmention.io/fanrongbin.com/webmention" />

<script data-goatcounter="https://ron.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>

<body class="han-init-context">

  <section class="navbar">
    <span class="header-name">
    <a href="/" class="header-link h-card p-name p-author u-url u-uid">Rongbin FAN</a>
     / <a href="/posts" class="header-link">Blog</a>
    <br>
    <a href="/stream" class="header-link header-guestbook">ϟ Stream</a>
    
    <a href="/links" class="header-link header-guestbook">◩ Guestbook</a>
    
</span>


  </section>

  <article class="article-entry h-entry">
      

<section class="content-header">

  <div class="top-scroll-bar"></div>
<div class="addn visible">
<a onclick="showHypo()" style="color:var(--textcolor);text-decoration:none;border:none;"><div id="show-hypo" class="header-button no-select">Hypothes.is</div></a>
<a onclick="toggleTOC()" style="color:var(--textcolor);text-decoration:none;border:none;"><div id="contents-fixed" class="header-button no-select">Contents</div></a>
</div>
<div id="contents-toc" class="no-select">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#摘录">摘录</a></li>
    <li><a href="#其他">其他</a></li>
  </ul>
</nav>
</div>

  

  <div id="single-header">
    <h1 class="p-name content-h1">Hybrid #4</h1>
    

    
      
      
      
        
        <p class="content-time"><time class="dt-published" datetime="2023-02-16T00:00:00&#43;08:00">16 February 2023</time></p>
        
      
    

    <a rel="author" class="p-name h-card" href="https://fanrongbin.com" style="display:none;">Rongbin Fan</a>
  </div>

  

</section>





<style>
  .navbar, footer, .footer-nav, .webmentions-how, .comment-box, .comment-title {
    opacity: 0.35 !important;
  }
  .navbar:hover, footer:hover, .footer-nav:hover, .webmentions-how:hover, .comment-box:hover {
    opacity: 1 !important;
  }
</style>



<div class="link-display"></div>


      
      
      
      <main class="e-content">
      
      














    

    

    

    

<figure><img src="https://img.fanrongbin.com/Zine5.webp" alt="SUMMER DAYS / Moritz Schorpp - DECALOGUE Magazine"></img><figcaption>SUMMER DAYS / Moritz Schorpp - DECALOGUE Magazine</figcaption></figure>
<div style="align:middle;">
<iframe allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write" frameborder="0" height="175" style="width:100%;max-width:100% !important;overflow:hidden;background:transparent;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/cn/album/raven/1652665077?i=1652665088&l=en"></iframe>
</div>
<h2 id="摘录">
摘录
<a href="#%e6%91%98%e5%bd%95" class="heading-anchor">#</a>
</h2>
<blockquote>
<p>It took me a long time to figure out why founders don&rsquo;t listen. At first I thought it was mere stubbornness. That&rsquo;s part of the reason, but another and probably more important reason is that so much about startups is <a href="http://www.paulgraham.com/before.html">counterintuitive</a>. And when you tell someone something counterintuitive, what it sounds to them is wrong. So the reason founders don&rsquo;t listen to us is that they don&rsquo;t <em>believe</em> us. At least not till experience teaches them otherwise.</p></blockquote>
<p><a href="http://www.paulgraham.com/users.html">What I&rsquo;ve Learned from Users -  Paul Graham</a></p>
<blockquote>
<p>My shortest short stories are like little dreams I’m having—I forgive myself for not totally knowing the place, not totally knowing the people, and not even totally knowing their exact problems or the exact problem of the place. Did I convey the feeling I wanted? Great. We out.</p></blockquote>
<p><a href="https://thecreativeindependent.com/people/writer-bud-smith-on-putting-in-the-work/">Writer Bud Smith on putting in the work – The Creative Independent</a></p>
<blockquote>
<p>It got me thinking that way as well. I was always obsessed with the Saturn return idea—the age between 27 and 32, where basically you enter a certain kind of space of criticality where life can be super challenging, but it allows you to figure out who your true self is. I also have a lot of references to home in my own work, so one thing that was really interesting about collaborating in that way was that in a way we both had similar issues. There are formulas that think about the geometry of space and light and textures and the way that they align with our own personal metaphors, our own personal mythologies. And she was centering her frame line, her obsession with the black rodeo culture in the South. We’re both from the South, but I feel like she had more experience with that than I did.</p></blockquote>
<p><a href="https://thecreativeindependent.com/people/artist-jacolby-satterwhite-on-trusting-your-own-process/">Artist Jacolby Satterwhite on trusting your own process – The Creative Independent</a></p>
<blockquote>
<p>When I let myself be permeated by this thought – that I might be stuck with certain inner disturbances forever – I definitely feel a bit of peevishness in response: &ldquo;Wait, I&rsquo;m never going to get to the problem-free phase? That&rsquo;s not what I signed up for!&rdquo; But then comes the sense of a heavy burden having been lifted. The pressure&rsquo;s off. I get to unclench, relax, and fall back into the life I&rsquo;m living. Far from this being dispiriting, I find myself much more motivated to get stuck in. It turns out my really big problem was thinking I might one day get rid of all my problems, when the truth is that there&rsquo;s no escaping the mucky, malodorous compost-heap of this reality. Which is OK, actually. Compost is the stuff that helps things grow.</p></blockquote>
<p><a href="https://www.oliverburkeman.com/never">What if you never sort your life out? | Oliver Burkeman</a></p>
<blockquote>
<p>在台灣教育長大的學生常常會覺得追求頂尖是天才才要考慮的事情，但其實我覺得頂尖和平庸往往是一種自我實現的預言。覺得自己平庸的人一直在做很普通的事情，最終自然會趨於平庸；追求頂尖的人則會因為一直在做困難的事而不斷接近頂尖。</p></blockquote>
<blockquote>
<p>最後補充一下，我並不是在說頂尖人才都沒學歷，也不是在說沒學歷代表你更有機會成為頂尖人才。我想表達的是：對於追求頂尖的人來說，要不要拿那個學歷大多數時候是個性問題，而不是能力問題。有些人就是極度厭惡浪費時間在沒意義的事情上，特別是當你有更困難、更有趣的事情想做的時候。</p></blockquote>
<p><a href="https://sheracaolity.ghost.io/degree/">論學歷 - Sheracaolity</a></p>
<blockquote>
<p>我犹豫入群的原因就是如此，从一个沉默的群，加到一个新群，新群刚开始热闹一阵后很快就陷入了沉默。毕竟毕业将近 20年了，还能保持联系的同学寥寥无几，我们能聊的话题，翻来覆去还是关于高中时期短暂的交集。
⋯⋯
为了弥合人与人之间的距离，为了找到失去的附近性，我们应该减少屏幕时间，多出去走走。去和那些生气腾腾的人交谈，去跟久未谋面的朋友联系，重新找回丢掉的中圈友谊。</p></blockquote>
<p><a href="https://rigeng100.com/post/dayone/ooawr5yscr46c7hnvt4jhsqex2tg/2022-02-13">找回丢掉的中圈友谊 - 日更100</a></p>
<blockquote>
<p>过去和现在的原因都一样：太懒——以前嫌麻烦，后来有一段时间觉得找起来真方便于是就满足了；太傲慢——以为在技术加持下可以一年完成原本需要十年的浸润；太庸俗——分不清获取信息与学习。</p></blockquote>
<p><a href="https://blog.yitianshijie.net/2022/07/13/why-cant-we-find-good-information-now/">为什么现在找不到好信息 - 一天世界</a></p>
<blockquote>
<p>But today, it seems that the term web2 is being perpetuated as a strawman to encompass all the follies of human nature and civilisation with some vague underpinning of centralised finance and some blockchain integrations in the fold. A marketing and PR effort to rewrite history and to redefine the internet and the WWW with an arbitrary hard line—before and after blockchain. The implication is that everything in this world, software or otherwise, that isn’t somehow connected to a distributed cryptographic ledger, is web2, and that it is bad.</p></blockquote>
<p><a href="https://nadh.in/blog/web2-web3/">But, aren&rsquo;t you folks web2? - nadh.in</a></p>
<blockquote>
<p>这似乎又开始了让人熟悉的老剧情。场景的吸引力，模式的吸引力，大过一切，对入局的紧张大过一切，喊出做中国OpenAI的口号大过一切，小圈子的互相鼓掌也大过了一切，包括对OpenAI究竟怎么成了今天的样子的讨论。</p>
<p>在这些热闹的朋友圈之外，关于OpenAI的各种研究也都在那里放着：</p>
<p>OpenAI起始于一群在通用人工智能备受怀疑时仍然相信它能成的人，而非起始于着急“做另一个DeepMind”；它在屡屡碰钉子后设计了针对性极强的新的投资回报协议，而非单纯的有钱就上；它有一个提供着源源不断算力并可以从中获利的互联网巨头的支持，甚至亲身证明了没有这种支持只靠有钱有闲的大佬是做不成这个事的；甚至，它已经在暴露出只被一小群人来掌控一个通用大模型、一个所谓未来的互联网基础的问题所在。</p>
<p>而这些可能才是后发者更应该提前考虑的问题。</p>
<p>有些果实很高，有些果实已经落到低处。王慧文想上船，可能需要先从朋友圈出来。</p></blockquote>
<p><a href="https://www.pingwest.com/a/277269">着急要上ChatGPT这艘船的王慧文，被他的朋友们当成了船票 - 品玩</a></p>
<blockquote>
<p>I used to blame advertisers for that restlessness and dissatisfaction, but I don’t think that’s right. We were already restless; we always have been. The advertisers just figured out how to nurture, tend, exacerbate, and capitalize on the pre-existing condition, that innate restlessness, promising that something new is going to set all to rights. When the flashing sidebar connects that hand lotion, those hiking boots, a beach vacation, or some rugged SUV with satisfaction, joy, and inner peace, it sure feels like we’d be suckers not to buy it. And when that thing inevitably disappoints, we hardly even notice. There’s always something new to buy. That narrative of elusive satisfaction isn’t just something we’re repeatedly being told; it is a story we’re literally buying into all the time. No surprise, then, that when our beloved to whom we once upon a time “pledged our troth” inevitably disappoints, we start thinking it might be time to get a new beloved.</p></blockquote>
<p><a href="https://comment.org/repair-and-remain/">Repair and Remain - Comment Magazine</a></p>
<blockquote>
<p>And like the small towns of Sinclair Lewis’ day, these vertical communities have the ability to use social ostracism to punish those who deviate from consensus norms and political objectives.</p></blockquote>
<blockquote>
<p>We now live in a world where our communities exist in three dimensions — the familiar hodgepodge of local humanity in two dimensions, and our self-sorted online spaces in a third.</p></blockquote>
<blockquote>
<p>So for now and for the foreseeable future, our public goods are provided locally, but our social interaction happens in the cloud. In theory, this could be a dangerous recipe.</p></blockquote>
<blockquote>
<p>So I’m worried about the future of our public goods. I’m worried that the online space will fragment and degrade horizontal communities, but will never manage to fully replace them either. We need to find some way to get along with the human beings who live within physical proximity to us, even as we continue to spend much of our time online. Vertical communities must make their peace with horizontal communities…somehow.</p></blockquote>
<p><a href="https://noahpinion.substack.com/p/vertical-communities">Vertical communities - by Noah Smith - Noahpinion</a></p>
<h2 id="其他">
其他
<a href="#%e5%85%b6%e4%bb%96" class="heading-anchor">#</a>
</h2>
<ul>
<li><a href="https://readwise.io/">Readwise</a> and <a href="https://readwise.io/read">Reader</a></li>
<li><a href="https://www.snipd.com/">Snipd - Unlock the Knowledge in Podcasts</a></li>
<li><a href="https://superwall.com/">Superwall — Build the best mobile paywalls</a></li>
<li><a href="https://incoggo.com/">Incoggo</a>
<ul>
<li><a href="https://incoggo.com/privacy/">Privacy Policy - Incoggo</a></li>
<li><a href="https://news.ycombinator.com/item?id=29464674">Show HN: Incoggo – Free Adblocker for Paywalls | Hacker News</a></li>
</ul>
</li>
</ul>



          
      
          <a class="u-url" href="https://fanrongbin.com/hybrid-4/" hidden="from-humans" style="display:none;"></a>
      

      </main>
      
      
      <a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy/" hidden="from-humans" style="display:none;"></a>

  
  </article>
  

  
  



<div class="footer-nav">




<div class="previous-post" style="display:inline-block;">
  
    
      <a class="no-external" href="/honorific-ko/"><span class="arrow">←</span> 높임법 / 경어법 / 존대법 / 대우법：韩语敬语梳理</a>
    
  
</div>




  <div class="Tags">
    <ul style="list-style-type: none;margin:0;">
      <li class="label">TAGS</li>
        <li><a href="/tags/hybrid/">Hybrid</a></li>
    </ul>
  </div>

<div class="next-post" style="display:inline-block;float:right;">
  
    
      <a class="no-external" href="/hugo-hanzi-pro/">在 Hugo 引入汉字标准格式 <span class="arrow">→</span></a>
    
  
</div>

</div>






  

<h2 class="comment-title">Comment</h2>

<details class="comment-box">
  <summary>Login via Github</summary>
<div id="giscus">
  <script id="giscus-script" src="https://giscus.app/client.js" data-repo="rongbinf/giscus-comment"
      data-repo-id="R_kgDOK3UYzw" data-category="Announcements"
      data-category-id="DIC_kwDOK3UYz84Cbl2R" data-mapping="pathname" data-strict="0"
      data-reactions-enabled="0" data-emit-metadata="0" data-input-position="top"
      data-theme="https://fanrongbin.com/giscus.css" data-lang="en" data-loading="lazy"
      crossorigin="anonymous" defer>
      </script>
</div>
</details>


<details class="comment-box">
  <summary>No Login</summary>
  <div id="tcomment"></div>
  <script src="https://cdn.jsdelivr.net/npm/twikoo@1.6.36/dist/twikoo.all.min.js" integrity="sha384-4KfOjEinLSkv1i1J8TzlkC/RTnuiLoR1OLerVgjEKoH5djYtbf7mzEFsz9p3nfuA" crossorigin="anonymous" onload="initTwikoo()" defer></script>
  <script>
  function initTwikoo() {
    twikoo.init({
      envId: 'https://twikoo.fanrongbin.com',
      el: '#tcomment',
      lang: 'en',
    });
  }
  </script>
  <style>
    .twikoo svg{
      margin: 0;
    }
    .tk-avatar .tk-avatar-img {
      margin: 0;
    }
    .el-input-group__append, .el-input-group__prepend {
      background-color: unset !important;
      border: unset !important;
    }
    .el-input__inner, .el-textarea__inner {
      border: 0;
      border-bottom: 1px solid var(--text-color);
      border-radius: 0;
    }
    .el-input.is-active .el-input__inner, .el-input__inner:focus,
    .twikoo .el-input__inner:focus, .twikoo .el-textarea__inner:focus {
      border-color: var(--text-color) !important;
    }
    .el-button--primary {
      background-color: var(--highlight) !important;
    }
    .el-button--primary.is-disabled {
      background-color: var(--highlight) !important;
      border: 0 !important;
      opacity: 0.5 !important;
    }
    .twikoo .el-button:not(.el-button--primary):not(.el-button--text):hover {
      border-color: white !important;
      background-color: var(--highlight) !important;
      color: white !important;
    }
    .tk-submit-action-icon.__markdown {
      border: none;
    }
    .tk-submit-action-icon.__markdown::after {
      content: none;
    }
    .tk-icon.__comments {
      color: var(--highlight);
    }
  </style>
</details>

<details class="comment-box">
  <summary>Webmention</summary>
  <script src="/webmention.min.js" defer></script>
  <div id="webmentions"></div>
  <div>
    <p>
      
      What is <a
    href="/hugo-webmention-bridgy-mastodon">Webmention</a>?</p>
    <form class="webmention-form" action="https://webmention.io/fanrongbin.com/webmention" method="post" style="margin: 2ch 0;">
          <input type="url" name="source" class="url" placeholder="Your URL" required="">
          <input type="hidden" name="target" value="https://fanrongbin.com/hybrid-4/">
          <input type="submit" value="Send" style="background:var(--bg-color);">
    </form>
  </div>
</details>

<details class="comment-box" onclick="showHypo();">
  <summary><a id="commenthypo" onclick="showHypo();">Hypothes.is</a></summary>
  </details>



  

  <footer class="opacity-6">
    <p><a href="/colophon">Colophon</a></p><p><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a></p>
  </footer>

</body>

<script src="/han.min.js" defer></script>



<script type="application/json" class="js-hypothesis-config" defer>
{
    "sideBySide": {
        "mode": "manual"
    }
}
</script>

<script defer>
    var mainElement = document.querySelector('main');
    var contentHeader = document.querySelector('section.content-header');
    const headers = mainElement.querySelectorAll('h2, h3');
    document.addEventListener('DOMContentLoaded', function () {

        if (contentHeader) {
            contentHeader.querySelector('#show-hypo').style.display = 'flex';
        }

        handleScrollEvents();

        applyBreakAllClass();

        setupSidenotes();

        initializeMutationObserver();

        initializeTOCFeatures();

        preventMultiTouchGestures();

        setExternalLinksToOpenInNewTab();
    });

    function updateHHangableBehavior() {
        var sidenoteHangables = mainElement.querySelectorAll('.sidenote-number + h-hangable');
        sidenoteHangables.forEach(function (hHangable) {
            var sidenoteNumber = hHangable.previousElementSibling;
            var sidenoteBox = sidenoteNumber.querySelector('.sidenote-box');
            if (sidenoteBox) {
                sidenoteNumber.insertBefore(hHangable, sidenoteBox);
            }
        });
    }

    function initializeMutationObserver() {
        var observer = new MutationObserver(function (mutations) {
            var shouldUpdate = false;
            mutations.forEach(function (mutation) {
                mutation.addedNodes.forEach(function (node) {
                    if (node.nodeType === 1 && node.matches('h-hangable')) {
                        var previousSibling = node.previousElementSibling;
                        if (previousSibling && previousSibling.matches('.sidenote-number')) {
                            shouldUpdate = true;
                        }
                    }
                });
            });
            if (shouldUpdate) {
                setTimeout(updateHHangableBehavior, 1200);
            }
        });

        var config = { childList: true, subtree: true };
        if (mainElement) {
            observer.observe(mainElement, config);
        }
    }

    function applyBreakAllClass() {
        var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        var codeElements = mainElement.querySelectorAll('code');

        codeElements.forEach(function (element) {
            if (screenWidth <= 960) {
                if (element.textContent.length > 10) {
                    element.classList.add('break-all');
                }
            }
            else {
                if (element.textContent.length > 30) {
                    element.classList.add('break-all');
                }
            }
        });
    }

    function handleScrollEvents() {
        if (contentHeader) {
            let lastScrollTop = 0;
            let isScrolling = false;
            const addnDiv = contentHeader.querySelector('.addn');
            const topScrollBar = contentHeader.querySelector('.top-scroll-bar');

            window.addEventListener('scroll', function () {
                const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
                if (!isScrolling) {
                    window.requestAnimationFrame(function () {
                        if (topScrollBar) {
                            const scrollPercent = (currentScroll / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
                            topScrollBar.style.width = scrollPercent + '%';
                            topScrollBar.style.display = 'block';
                        }
                        if (addnDiv) {
                            if (currentScroll > lastScrollTop && currentScroll > 50) {
                                addnDiv.classList.remove('visible');
                            } else {
                                addnDiv.classList.add('visible');
                            }
                        }
                        lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
                        isScrolling = false;
                    });
                    isScrolling = true;
                }
                if (window.innerWidth >= 1600) {
                    toggleTOCOnScroll();
                }
            }, false);
        }
    }

    function showHypo() {
        var existingScript = document.getElementById('hypothes-script');
        var button = contentHeader.querySelector('#show-hypo');

        var commentHypo = document.getElementById("commenthypo");

        if (!existingScript) {
            button.textContent = 'Loading';
            commentHypo.textContent = 'Loading'

            var script = document.createElement('script');
            script.id = 'hypothes-script';
            script.src = 'https://hypothes.is/embed.js';

            script.onload = () => {
                button.textContent = 'Hypothes.is';
                commentHypo.textContent = 'You can now select texts to highlight or note.'
            };

            script.onerror = () => {
                button.style.color = 'red';
                button.textContent = 'Failed';
                commentHypo.textContent = 'Network error. Please refresh and try again.'
            };

            
            document.body.appendChild(script);
        } else {
            toggleHypothesisElementsVisibility();
            button.style.color = 'var(--text-color)';
        }
    }

    function toggleHypothesisElementsVisibility() {
        const elementsToToggle = [
            'hypothesis-sidebar',
            'hypothesis-notebook',
            'hypothesis-profile',
            'hypothesis-adder',
            'hypothesis-highlight-cluster-toolbar'
        ];

        elementsToToggle.forEach(function (element) {
            var el = document.querySelector(element);
            if (el) {
                if (el.style.display === 'none') {
                    el.style.display = '';
                } else {
                    el.style.display = 'none';
                }
            }
        });
    }


    function initializeTOCFeatures() {
        if (contentHeader) {
            const contentsFixedDiv = contentHeader.querySelector('#contents-fixed');
            const tocContainer = contentHeader.querySelector('#contents-toc');
            if (contentsFixedDiv && headers.length > 1) {
                contentsFixedDiv.style.display = 'flex';
                contentsFixedDiv.addEventListener('click', (event) => {
                    toggleTOC();
                    event.stopPropagation();
                });
            }
            if (tocContainer && !tocContainer.dataset.initialized) {
                const throttledHighlight = throttle(highlightAppropriateHeader, 250);
                window.addEventListener('scroll', throttledHighlight);
                tocContainer.dataset.initialized = 'true';
            }
        }
    }

    function highlightAppropriateHeader() {
        let highlightedHeader = null;
        let foundHeaderInView = false;

        
        for (let i = 0; i < headers.length; i++) {
            const header = headers[i];
            const bounding = header.getBoundingClientRect();

            if (bounding.top >= 0 && bounding.bottom <= window.innerHeight) {
                highlightedHeader = header; 
                foundHeaderInView = true;
                break;
            }
        }

        
        if (!foundHeaderInView) {
            for (let i = 0; i < headers.length; i++) {
                const header = headers[i];
                let nextHeader = headers[i + 1];
                let endOfSection = nextHeader ? nextHeader.getBoundingClientRect().top : Infinity;

                const startOfSection = header.getBoundingClientRect().bottom;

                if (startOfSection < window.innerHeight && endOfSection > 0) {
                    highlightedHeader = header;
                    break;
                }
            }
        }

        
        contentHeader.querySelectorAll('nav#TableOfContents a').forEach(link => {
            link.classList.remove('toc-highlight');
        });

        
        if (highlightedHeader) {
            const link = contentHeader.querySelector(`nav#TableOfContents a[href="#${highlightedHeader.id}"]`);
            if (link) {
                link.classList.add('toc-highlight');
            }
        }
    }

    function toggleTOC() {
        const tocContainer = contentHeader.querySelector('#contents-toc');
        const isDisplayed = window.getComputedStyle(tocContainer).display !== 'none';
        tocContainer.style.display = isDisplayed ? 'none' : 'flex';
    }

    function toggleTOCOnScroll() {
        const tocContainer = document.querySelector('#TableOfContents');
        const footerNav = document.querySelector('.footer-nav');

        if (!tocContainer || !footerNav) return;

        const footerNavTop = footerNav.getBoundingClientRect().top;
        const windowHeight = window.innerHeight;

        
        if (footerNavTop <= windowHeight) {
            tocContainer.style.display = 'none';
        } else {
            tocContainer.style.display = 'flex';
        }
    }

    function throttle(func, limit) {
        let lastFunc;
        let lastRan;
        return function () {
            const context = this;
            const args = arguments;
            if (!lastRan) {
                func.apply(context, args);
                lastRan = Date.now();
            } else {
                clearTimeout(lastFunc);
                lastFunc = setTimeout(function () {
                    if ((Date.now() - lastRan) >= limit) {
                        func.apply(context, args);
                        lastRan = Date.now();
                    }
                }, limit - (Date.now() - lastRan));
            }
        }
    }

    function setExternalLinksToOpenInNewTab() {
        const links = document.querySelectorAll('.e-content a[href*="//"]:not(.stream-url):not(.stream-time)');
        const linkDisplay = document.querySelector('.link-display');

        links.forEach(function (link) {
            link.setAttribute('target', '_blank');

            link.addEventListener('mouseover', function () {
                const url = new URL(this.href);
                const rootDomain = url.hostname.replace(/^www\./, '');
                const boldDomain = `<span class="bold-domain">${rootDomain}</span>`;
                const displayUrl = this.href.replace(rootDomain, boldDomain);

                linkDisplay.innerHTML = displayUrl;
                linkDisplay.style.display = 'block';
                const linkRect = this.getBoundingClientRect();
                linkDisplay.style.top = `${linkRect.bottom + window.scrollY}px`;
                linkDisplay.style.left = `${linkRect.left + window.scrollX}px`;
            });

            link.addEventListener('mouseout', function () {
                linkDisplay.style.display = 'none';
            });
        });
    }

    function setupSidenotes() {
    const sidenoteNumbers = mainElement.querySelectorAll('.sidenote-number');

    if (sidenoteNumbers.length >= 3 && window.innerWidth >= 1000) {
        const sidenoteLine = mainElement.querySelectorAll('.sidenote-line');
        sidenoteLine.forEach(element => {
            element.style.border = 'none';
        });

        var jQueryScript = document.createElement('script');
        jQueryScript.src = '/jquery-3.6.0.min.js';
        document.head.appendChild(jQueryScript);

        jQueryScript.onload = function () {
            var jsPlumbScript = document.createElement('script');
            jsPlumbScript.src = '/jsplumb.min.js';
            document.head.appendChild(jsPlumbScript);

            jsPlumbScript.onload = function () {
                initJsPlumb();
            };
        };
    }

    function applySidenoteMargins() {
        const screenWidth = window.innerWidth;

        if (screenWidth <= 1000) {
            sidenoteNumbers.forEach(sidenoteNumber => {
                const sidenoteBox = sidenoteNumber.querySelector('.sidenote-box');
                const afterSidenoteContent = sidenoteNumber.nextSibling;

                if (sidenoteBox) {
                    if (afterSidenoteContent && afterSidenoteContent.textContent.trim() !== "") {
                        sidenoteBox.style.marginBottom = "0"; 
                    }
                }
            });
        } else {
            sidenoteNumbers.forEach(sidenoteNumber => {
                const sidenoteBox = sidenoteNumber.querySelector('.sidenote-box');
                if (sidenoteBox) {
                    sidenoteBox.style.marginBottom = "";  
                }
            });
        }
    }

    applySidenoteMargins();

    window.addEventListener('resize', applySidenoteMargins);
}


    function initJsPlumb() {
        var jsPlumbCSS = document.createElement('link');
        jsPlumbCSS.href = '/jsplumbtoolkit-defaults.min.css';
        jsPlumbCSS.rel = 'stylesheet';
        document.head.appendChild(jsPlumbCSS);

        jQuery(document).ready(function () {
            jsPlumb.importDefaults({
                ConnectionsDetachable: false,
                ReattachConnections: false,
                Endpoint: "Blank",
                Connector: ["Straight"],
                PaintStyle: { stroke: "var(--text-color)", strokeWidth: 1 }
            });

            createConnections();
            var resizeObserver = new ResizeObserver(function () {
                createConnections();
            });
            resizeObserver.observe(document.body);
        });
    }

    function createConnections() {
        jsPlumb.deleteEveryEndpoint();
        jQuery('.sidenote-number').each(function () {
            var sidenoteNumber = jQuery(this);
            var sidenote = sidenoteNumber.find('.sidenote');

            if (sidenote.length) {
                jsPlumb.connect({
                    source: sidenoteNumber[0],
                    target: sidenote[0],
                    anchors: ["Center", "RightMiddle"],
                    cssClass: "jsplumb-line"
                });
            }
        });
    }


    function preventMultiTouchGestures() {
        window.onload = function () {
            document.addEventListener('touchstart', function (event) {
                if (event.touches.length > 1) {
                    event.preventDefault();
                }
            }, false);
            var lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                var now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            document.addEventListener('gesturestart', function (event) {
                event.preventDefault();
            }, false);
        }
    }
</script>

</html>