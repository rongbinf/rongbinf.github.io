<!DOCTYPE html>

<html lang="zh-Hans"  dir="ltr"

>

<head>
  <title class="p-name">eclipse, indices / indexes ä¸è‚¡ä»·æŒ‡æ•° - Rongbin&#39;s Blog</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<meta name="description"
    content="åŒ—äº¬æ—¶é—´ä»Šå¤©æ—©ä¸Šçš„ä¸€åˆ™æ–°é—»ï¼š
Nov 1 (Reuters) - Wall Street&rsquo;s main indexes notched record closing highs on Monday as Tesla shares surged and the energy sector gained while investors looked ahead to a major Federal Reserve meeting later in the week.
The Dow Jones Industrial Average (.DJI) eclipsed 36,000 points for the first time ever during intraday trading, ending just shy of that level.
Reuters
eclipse? # eclipse ä½œåŠ¨è¯é™¤äº†å¤©æ–‡ä¸Šã€Œé®ä½â‹¯â‹¯çš„å…‰ã€å³ã€Œé£Ÿã€ï¼ˆæ—¥é£Ÿã€æœˆé£Ÿï¼‰çš„æ„æ€ã€æ¯”è¾ƒæ–‡å­¦æ€§çš„ã€Œä½¿â‹¯â‹¯é»¯æ·¡æ— å…‰/é»¯ç„¶å¤±è‰²ã€çš„æ„æ€ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¦‚å¼•ç”¨æ‰€æŒ‡ï¼Œåœ¨å•†åŠ¡è‹±è¯­ä¸­ï¼Œè¡¨ç¤ºåœ¨æ•°é‡ä¸Šæˆ–çº§åˆ«ä¸Šã€Œè¶…è¿‡ã€é«˜è¿‡ã€çš„æ„æ€ã€‚
ä¸‹å¼•å‰‘æ¡¥è¯å…¸ï¼š
to become greater in amount or level than something else: ">
<meta name="author p-author" content="Rongbin FAN" href="https://fanrongbin.com">

<meta property="og:title" content="eclipse, indices / indexes ä¸è‚¡ä»·æŒ‡æ•° - Rongbin&#39;s Blog" />
<meta property="og:description" content="åŒ—äº¬æ—¶é—´ä»Šå¤©æ—©ä¸Šçš„ä¸€åˆ™æ–°é—»ï¼š
Nov 1 (Reuters) - Wall Street&rsquo;s main indexes notched record closing highs on Monday as Tesla shares surged and the energy sector gained while investors looked ahead to a major Federal Reserve meeting later in the week.
The Dow Jones Industrial Average (.DJI) eclipsed 36,000 points for the first time ever during intraday trading, ending just shy of that level.
Reuters
eclipse? # eclipse ä½œåŠ¨è¯é™¤äº†å¤©æ–‡ä¸Šã€Œé®ä½â‹¯â‹¯çš„å…‰ã€å³ã€Œé£Ÿã€ï¼ˆæ—¥é£Ÿã€æœˆé£Ÿï¼‰çš„æ„æ€ã€æ¯”è¾ƒæ–‡å­¦æ€§çš„ã€Œä½¿â‹¯â‹¯é»¯æ·¡æ— å…‰/é»¯ç„¶å¤±è‰²ã€çš„æ„æ€ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¦‚å¼•ç”¨æ‰€æŒ‡ï¼Œåœ¨å•†åŠ¡è‹±è¯­ä¸­ï¼Œè¡¨ç¤ºåœ¨æ•°é‡ä¸Šæˆ–çº§åˆ«ä¸Šã€Œè¶…è¿‡ã€é«˜è¿‡ã€çš„æ„æ€ã€‚
ä¸‹å¼•å‰‘æ¡¥è¯å…¸ï¼š
to become greater in amount or level than something else: " />
<meta property="og:url" content="https://fanrongbin.com/eclipse-indices-indexes/" />
<meta property="og:image" content="https://fanrongbin.com/apple-touch-icon.png" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://fanrongbin.com/apple-touch-icon.png" />
<meta name="twitter:title" content="eclipse, indices / indexes ä¸è‚¡ä»·æŒ‡æ•° - Rongbin&#39;s Blog" />
<meta name="twitter:description" content="åŒ—äº¬æ—¶é—´ä»Šå¤©æ—©ä¸Šçš„ä¸€åˆ™æ–°é—»ï¼š
Nov 1 (Reuters) - Wall Street&rsquo;s main indexes notched record closing highs on Monday as Tesla shares surged and the energy sector gained while investors looked ahead to a major Federal Reserve meeting later in the week.
The Dow Jones Industrial Average (.DJI) eclipsed 36,000 points for the first time ever during intraday trading, ending just shy of that level.
Reuters
eclipse? # eclipse ä½œåŠ¨è¯é™¤äº†å¤©æ–‡ä¸Šã€Œé®ä½â‹¯â‹¯çš„å…‰ã€å³ã€Œé£Ÿã€ï¼ˆæ—¥é£Ÿã€æœˆé£Ÿï¼‰çš„æ„æ€ã€æ¯”è¾ƒæ–‡å­¦æ€§çš„ã€Œä½¿â‹¯â‹¯é»¯æ·¡æ— å…‰/é»¯ç„¶å¤±è‰²ã€çš„æ„æ€ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¦‚å¼•ç”¨æ‰€æŒ‡ï¼Œåœ¨å•†åŠ¡è‹±è¯­ä¸­ï¼Œè¡¨ç¤ºåœ¨æ•°é‡ä¸Šæˆ–çº§åˆ«ä¸Šã€Œè¶…è¿‡ã€é«˜è¿‡ã€çš„æ„æ€ã€‚
ä¸‹å¼•å‰‘æ¡¥è¯å…¸ï¼š
to become greater in amount or level than something else: " />

<link rel="canonical" href="https://fanrongbin.com/eclipse-indices-indexes/" />






      <link rel="stylesheet" href="/css/main.min.50dea379767d697d8217e1a8ba34c3d92d92e58b83ec24116a7e174209daaad4.css" integrity="sha256-UN6jeXZ9aX2CF&#43;GoujTD2S2S5YuD7CQRan4XQgnaqtQ=" crossorigin="anonymous">

<link rel="stylesheet" href="/han.min.css" type="text/css">

      <script src="/js/main.f2979a93a325fecf9605263bd141398a311c8e23388ed7dcff74f92f7e632866.js" integrity="sha256-8peak6Ml/s&#43;WBSY70UE5ijEcjiM4jtfc/3T5L35jKGY=" crossorigin="anonymous"></script>





<link rel="alternate" type="application/activity+json" href="https://fed.brid.gy/r/https://fanrongbin.com/eclipse-indices-indexes/">

<link rel="webmention" href="https://webmention.io/fanrongbin.com/webmention" />

<script data-goatcounter="https://ron.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</head>

<body class="han-init-context">

  <section class="navbar">
    <span class="header-name">
    <a href="/" class="header-link h-card p-name p-author u-url u-uid">Rongbin FAN</a>
     / <a href="/posts" class="header-link">Blog</a>
    <br>
    
    <a href="/stream" class="header-link header-guestbook">ÏŸ Stream</a>
    <a href="/resources" class="header-link header-guestbook">â†º Resources</a>
    <a href="/links" class="header-link header-guestbook">ğŸ•® Guestbook</a>
    
</span>


  </section>

  <article class="article-entry h-entry">
      

<section class="content-header">

  <div class="top-scroll-bar"></div>
<div class="addn visible">
<a onclick="showHypo()" style="color:var(--textcolor);text-decoration:none;border:none;"><div id="show-hypo" class="header-button no-select">Hypothes.is</div></a>
<a onclick="toggleTOC()" style="color:var(--textcolor);text-decoration:none;border:none;"><div id="contents-fixed" class="header-button no-select">Contents</div></a>
</div>
<div id="contents-toc" class="no-select">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#eclipse">eclipse?</a></li>
    <li><a href="#indices-æˆ–-indexes">indices æˆ– indexes?</a></li>
    <li><a href="#è‚¡ç¥¨ä»·æ ¼æŒ‡æ•°">è‚¡ç¥¨ä»·æ ¼æŒ‡æ•°</a>
      <ul>
        <li><a href="#æŒ‰è¦†ç›–èŒƒå›´åˆ†">æŒ‰è¦†ç›–èŒƒå›´åˆ†ï¼š</a></li>
        <li><a href="#æŒ‰è®¡ç®—æ–¹å¼åˆ†ä¸å…¨">æŒ‰è®¡ç®—æ–¹å¼åˆ†ï¼šï¼ˆä¸å…¨ï¼‰</a></li>
        <li><a href="#æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æŒ‡æ•°">æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æŒ‡æ•°</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>

  <div id="single-header">
    <h1 class="p-name content-h1">eclipse, indices / indexes ä¸è‚¡ä»·æŒ‡æ•°</h1>
    


    
      
      
      
        
        <p class="content-time"><time class="dt-published" datetime="2021-11-02T00:00:00&#43;00:00">02 November 2021</time></p>
        
      
    

    <a rel="author" class="p-name h-card" href="https://fanrongbin.com" style="display:none;">Rongbin Fan</a>
  </div>

</section>



<div class="link-display"></div>


      
      
      
      <main class="e-content">
      
      

<p>åŒ—äº¬æ—¶é—´ä»Šå¤©æ—©ä¸Šçš„ä¸€åˆ™æ–°é—»ï¼š</p>
<blockquote>
<p>Nov 1 (Reuters) - Wall Street&rsquo;s main <strong>indexes</strong> notched record closing highs on Monday as Tesla shares surged and the energy sector gained while investors looked ahead to a major Federal Reserve meeting later in the week.</p>
<p>The Dow Jones Industrial Average (.DJI) <strong>eclipsed</strong> 36,000 points for the first time ever during intraday trading, ending just shy of that level.</p>
<p><a href="https://www.reuters.com/business/wall-street-hits-records-tesla-surges-focus-fed-meeting-2021-11-01/">Reuters</a></p>
</blockquote>
<h2 id="eclipse">
eclipse?
<a href="#eclipse" class="heading-anchor">#</a>
</h2>
<p>eclipse ä½œåŠ¨è¯é™¤äº†å¤©æ–‡ä¸Šã€Œé®ä½â‹¯â‹¯çš„å…‰ã€å³ã€Œé£Ÿã€ï¼ˆæ—¥é£Ÿã€æœˆé£Ÿï¼‰çš„æ„æ€ã€æ¯”è¾ƒæ–‡å­¦æ€§çš„ã€Œä½¿â‹¯â‹¯é»¯æ·¡æ— å…‰/é»¯ç„¶å¤±è‰²ã€çš„æ„æ€ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¦‚å¼•ç”¨æ‰€æŒ‡ï¼Œåœ¨å•†åŠ¡è‹±è¯­ä¸­ï¼Œè¡¨ç¤ºåœ¨æ•°é‡ä¸Šæˆ–çº§åˆ«ä¸Šã€Œè¶…è¿‡ã€é«˜è¿‡ã€çš„æ„æ€ã€‚</p>
<p>ä¸‹å¼•å‰‘æ¡¥è¯å…¸ï¼š</p>
<blockquote>
<p><strong>to become greater in amount or level than something else:</strong></p>
<p><em>The increased consumer spending from new businesses has already helped shopping, dining, and real estate <strong>eclipse</strong> oil revenues.</em></p>
<p><em>Their stock is up 50% so far this year, as their profit growth is expected to <strong>eclipse</strong> that of larger companies.</em></p>
<p>(Definition of eclipse from <a href="https://dictionary.cambridge.org/dictionary/english/eclipse">the Cambridge Business English Dictionary</a> Â© Cambridge University Press)</p>
</blockquote>
<h2 id="indices-æˆ–-indexes">
indices æˆ– indexes?
<a href="#indices-%e6%88%96-indexes" class="heading-anchor">#</a>
</h2>
<p>éƒ½å¯ä»¥ï¼Œå®ƒä»¬éƒ½æ˜¯ index çš„å¤æ•°å½¢å¼ã€‚indices ç»å¸¸å‡ºç°åœ¨åœ¨æ•°å­¦ã€ç»Ÿè®¡å­¦ã€é‡‘èå­¦ã€ç§‘å­¦ç­‰ç›¸å…³æ–‡ç« ä¸­ï¼Œä¹¦é¢ä¹Ÿç»å¸¸ç”¨ã€‚åŒ—ç¾ç”¨ indexes æ›´å¤šï¼Œå…¶ä»–è‹±è¯­å›½å®¶ç”¨ indices æ›´å¤šã€‚</p>
<h2 id="è‚¡ç¥¨ä»·æ ¼æŒ‡æ•°">
è‚¡ç¥¨ä»·æ ¼æŒ‡æ•°
<a href="#%e8%82%a1%e7%a5%a8%e4%bb%b7%e6%a0%bc%e6%8c%87%e6%95%b0" class="heading-anchor">#</a>
</h2>
<p>è‚¡ç¥¨ä»·æ ¼æŒ‡æ•°ï¼ˆStock Price Indexï¼‰ä¹Ÿå³è‚¡ç¥¨æŒ‡æ•°ã€‚å…¶åˆ¶å®šï¼Œä»¥æ–¹ä¾¿æŠ•èµ„è€…äº†è§£å¤šåªè‚¡ç¥¨ä»·æ ¼çš„æ³¢åŠ¨ï¼Œè¿›è€Œä¹Ÿèƒ½ååº”å¸‚åœºçš„æ€åŠ¿ã€‚è¿›ä¸€æ­¥ä¹Ÿèƒ½ä½“ç°æ”¿æ²»ã€ç¤¾ä¼šçš„å‘å±•å½¢åŠ¿ã€‚</p>
<p>æœ‰å¤šç§ç¼–åˆ¶æ–¹å¼ï¼š</p>
<h3 id="æŒ‰è¦†ç›–èŒƒå›´åˆ†">
æŒ‰è¦†ç›–èŒƒå›´åˆ†ï¼š
<a href="#%e6%8c%89%e8%a6%86%e7%9b%96%e8%8c%83%e5%9b%b4%e5%88%86" class="heading-anchor">#</a>
</h3>
<ul>
<li><strong>å®½åŸºæŒ‡æ•°</strong>ï¼ˆå¹¿åŸºæŒ‡æ•°ï¼‰ï¼ˆbroad-based indicesï¼‰
<ul>
<li>æ²ªæ·± 300ï¼Œä¸­è¯ 500</li>
<li>é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°</li>
<li>æ ‡å‡†æ™®å°” 500 æŒ‡æ•°</li>
</ul>
</li>
<li><strong>çª„åŸºæŒ‡æ•°</strong>ï¼ˆnarrow-based indicesï¼‰ï¼ˆè¡Œä¸š/ä¸»é¢˜æŒ‡æ•°ï¼‰
<ul>
<li>ä¸‡å¾—èƒ½æºæŒ‡æ•°</li>
<li>å°æ¹¾ 50 æŒ‡æ•°</li>
<li>æ‘©æ ¹å£«ä¸¹åˆ©ç”Ÿç‰©æŠ€æœ¯æŒ‡æ•°</li>
</ul>
</li>
</ul>
<h3 id="æŒ‰è®¡ç®—æ–¹å¼åˆ†ä¸å…¨">
æŒ‰è®¡ç®—æ–¹å¼åˆ†ï¼šï¼ˆä¸å…¨ï¼‰
<a href="#%e6%8c%89%e8%ae%a1%e7%ae%97%e6%96%b9%e5%bc%8f%e5%88%86%e4%b8%8d%e5%85%a8" class="heading-anchor">#</a>
</h3>
<ul>
<li>
<p><strong>ä»·æ ¼åŠ æƒæŒ‡æ•°</strong>ï¼ˆPrice Weighting based indicesï¼‰</p>
<p>æˆåˆ†è‚¡è‚¡ä»·çš„ç®€å•ç®—æœ¯å¹³å‡ã€‚</p>
<ul>
<li>é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°</li>
<li>çº½çº¦è¯äº¤æ‰€ç§‘æŠ€ 100 æŒ‡æ•°</li>
<li>æ—¥ç» 225 æŒ‡æ•°ï¼ˆæ—¥ç»å¹³å‡æŒ‡æ•°ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¸‚å€¼/è‚¡æœ¬/èµ„æœ¬åŠ æƒæŒ‡æ•°</strong>ï¼ˆMarket-Capitalisation Weighting based indicesï¼‰</p>
<p>ç»™äºˆçš„æƒé‡åŸºäºè¯¥è‚¡ç¥¨<strong>å¸‚å€¼</strong>åœ¨æ•´ä¸ª<strong>ç»„åˆå¸‚å€¼</strong>ä¸­çš„æƒé‡ã€‚</p>
<ul>
<li>ä¸­è¯ 500 æŒ‡æ•°</li>
<li>æ ‡å‡†æ™®å°” 500 æŒ‡æ•°</li>
<li>é¦™æ¸¯æ’ç”ŸæŒ‡æ•°</li>
</ul>
</li>
<li>
<p><strong>è‡ªç”±æµé€šå¸‚å€¼/è‚¡æœ¬åŠ æƒæŒ‡æ•°</strong>ï¼ˆFree-float adjusted Market-Capitalisation Weighting based indicesï¼‰</p>
<p>ç±»ä¼¼å¸‚å€¼åŠ æƒã€‚ä½†è¿™é‡Œçš„å¸‚å€¼ä½¿ç”¨æµé€šå¸‚å€¼ï¼Œå³å¯ä¾›å…¬ä¼—äº¤æ˜“çš„éƒ¨åˆ†ã€‚</p>
<ul>
<li>æ²ªæ·± 300 æŒ‡æ•°</li>
</ul>
</li>
<li>
<p><strong>ç­‰æƒé‡åŠ æƒæŒ‡æ•°ï¼ˆæ— æƒé‡æŒ‡æ•°ï¼‰</strong>ï¼ˆEqual Weighting based indicesï¼‰</p>
<p>ç»™äºˆæ‰€æœ‰çš„æˆåˆ†è‚¡ç¥¨ä»¥ç›¸åŒçš„æƒé‡ï¼Œå³å‡è®¾æ¯åªæˆåˆ†è‚¡éƒ½è´­ä¹°äº†ç›¸åŒçš„é‡‘é¢ã€‚</p>
<ul>
<li>å·´ä¼¦ 400 æŒ‡æ•°</li>
<li>æ ‡æ™® 500 ç­‰æƒé‡æŒ‡æ•°</li>
</ul>
</li>
<li>
<p><strong>åŸºæœ¬é¢åŠ æƒæŒ‡æ•°</strong>ï¼ˆFundamentally based indicesï¼‰</p>
<p>é€šå¸¸ä»¥å…¬å¸çš„åŸºæœ¬é¢ï¼ˆé”€å”®æ”¶å…¥ã€ç°é‡‘æµã€åˆ†çº¢ç­‰ï¼‰ä¸ºåŸºç¡€æ¥åˆ†é…ä¸ªè‚¡çš„æƒé‡ã€‚</p>
<ul>
<li>ä¸Šè¯ 380 åŸºæœ¬é¢åŠ æƒæŒ‡æ•°</li>
<li>å¯Œæ—¶ RAFI æŒ‡æ•°ç³»åˆ—</li>
</ul>
</li>
<li>
<p><strong>å› å­æŒ‡æ•°</strong>ï¼ˆFactor Weighting based indicesï¼‰</p>
<p>ç”¨ä»¥åæ˜ ç‰¹å®šå› å­ç‰¹æ€§çš„ç»©æ•ˆã€‚ï¼ˆå¦‚è‚¡ç¥¨ä»·å€¼ã€ä¼ä¸šè´¨é‡ã€çº¢åˆ©ã€é£é™©ç­‰ï¼‰</p>
<ul>
<li>å¯Œæ—¶ç¯çƒå› å­æŒ‡æ•°ç³»åˆ—</li>
<li>æ ‡æ™®ä¸­å›½ A è‚¡ä½æ³¢çº¢åˆ©æŒ‡æ•°</li>
</ul>
</li>
<li>
<p><strong>æ³¢åŠ¨ç‡åŠ æƒæŒ‡æ•°</strong>ï¼ˆVolatility Weighting based indicesï¼‰</p>
<ul>
<li>èŠåŠ å“¥æœŸæƒäº¤æ˜“æ‰€å¸‚åœºæ³¢åŠ¨ç‡æŒ‡æ•°ï¼ˆææ…ŒæŒ‡æ•° CBOE Volatility Index, ^VIXï¼‰</li>
</ul>
</li>
<li>
<p><strong>æœ€å°æ–¹å·®æŒ‡æ•°</strong>ï¼ˆMinimum Variance Weighting based indicesï¼‰</p>
<p>ä»¥å®ç°ç»„åˆæ–¹å·®æœ€å°åŒ–ä¸ºç›®æ ‡çš„æŒ‡æ•°ã€‚</p>
<ul>
<li>æ–¯æ‰˜å…‹å…¨çƒ 1800 æœ€å°æ–¹å·®æŒ‡æ•°</li>
</ul>
</li>
</ul>
<h3 id="æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æŒ‡æ•°">
æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æŒ‡æ•°
<a href="#%e6%af%94%e8%be%83%e6%9c%89%e4%bb%a3%e8%a1%a8%e6%80%a7%e7%9a%84%e6%8c%87%e6%95%b0" class="heading-anchor">#</a>
</h3>
<h4 id="æŒ‰åœ°åŸŸ">
æŒ‰åœ°åŸŸ
<a href="#%e6%8c%89%e5%9c%b0%e5%9f%9f" class="heading-anchor">#</a>
</h4>
<ul>
<li>ç¾å›½
<ul>
<li>æ ‡å‡†æ™®å°” 500 æŒ‡æ•°ï¼ˆS&amp;P 500, ^GSPCï¼‰</li>
<li>é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°ï¼ˆDow 30, ^DJIï¼‰</li>
<li>çº³æ–¯è¾¾å…‹ç»¼åˆæŒ‡æ•°ï¼ˆNasdaq, ^IXICï¼‰</li>
</ul>
</li>
<li>äºšæ´²
<ul>
<li>æ—¥ç» 225 æŒ‡æ•°ï¼ˆNikkei 225, ^N225ï¼‰</li>
<li>é¦™æ¸¯æ’ç”ŸæŒ‡æ•°ï¼ˆHANG SENG INDEX, ^HSIï¼‰</li>
<li>éŸ©å›½ç»¼åˆè‚¡ä»·æŒ‡æ•°ï¼ˆKOSPI Composite Index, ^KS11ï¼‰</li>
<li>ä¸Šè¯ç»¼åˆæŒ‡æ•°ï¼ˆSSE Composite Index, 000001.SSï¼‰</li>
<li>æ·±è¯æˆä»½è‚¡æŒ‡æ•°ï¼ˆShenzhen Component, 399001.SZï¼‰</li>
</ul>
</li>
<li>æ¬§æ´²
<ul>
<li>è‹±å›½å¯Œæ—¶ 100 æŒ‡æ•°ï¼ˆFTSE 100, ^FTSEï¼‰</li>
<li>æ³•å›½ CAC 40 æŒ‡æ•°ï¼ˆCAC 40, ^FCHIï¼‰</li>
<li>å¾·å›½ DAX 30 æŒ‡æ•°ï¼ˆDAX PERFORMANCE-INDEX, ^GDAXIï¼‰</li>
<li>æ¬§æ´²æ–¯æ‰˜å…‹ 50 æŒ‡æ•°ï¼ˆESTX 50 PR.EUR, ^STOXX50Eï¼‰</li>
</ul>
</li>
</ul>



          
      
          <a class="u-url" href="https://fanrongbin.com/eclipse-indices-indexes/" style="display:none;"></a>
      
      
      <a class="u-bridgy-fed" rel="bridgy" href="https://fed.brid.gy/" style="display:none;"></a>

      </main>
  
  
  </article>
  

  
  

<div class="footer-nav">

  <div class="previous-post" style="display:inline-block;">
    
    <a class="no-external" href="https://fanrongbin.com/engadget-cn-closed/"><span class="arrow">â†</span> Engadget ç®€ä½“ä¸­æ–‡ç‰ˆå…³é—­</a>
    
  </div>

  



  <div class="next-post" style="display:inline-block;float:right;">
    
    <a class="no-external" href="https://fanrongbin.com/november-matplotlib/">ä½¿ç”¨ matplotlib é‡åˆ°çš„å‡ ä¸ªé—®é¢˜ <span
        class="arrow">â†’</span></a>
    
  </div>

</div>

<div class="webmentions-how">
  <p>
    
    <a
  href="/hugo-webmention-bridgy-mastodon">Webmention</a> this post, or <a href="/contact" target="_blank">contact me</a> directly.</p>
  <form class="webmention-form" action="https://webmention.io/fanrongbin.com/webmention" method="post" style="margin: 2ch 0;">
        <input type="url" name="source" class="url" placeholder="Your URL" required="">
        <input type="hidden" name="target" value="https://fanrongbin.com/eclipse-indices-indexes/">
        <input type="submit" value="Webmention" style="background:var(--bg-color);">
  </form>
  <p>You can use <a onclick="showHypo();" title="This will toggle Hypothes.is plugin on this page.">Hypothes.is</a> to select texts and highlight.</p>
</div>

<div id="copy-success-message" class="copy-success">
  <h4>You've copied this page url!</h4>
  <p style="font-weight: normal;">Search it in your Mastodon server, and reply that toot by <em>@fanrongbin.com@fanrongbin.com</em>.</p>
</div>

<script defer>
document.addEventListener('DOMContentLoaded', function() {
  var script = document.createElement('script');
  script.src = '/clipboard.min.js';
  script.onload = function() {
    const copyButton = document.querySelector('.btn');
    const copySuccessMessage = document.getElementById('copy-success-message');

    const clipboard = new ClipboardJS('.btn');

    clipboard.on('success', function(e) {
      console.info('Action:', e.action);
      console.info('Text:', e.text);
      console.info('Trigger:', e.trigger);

      copySuccessMessage.style.display = 'block';
      copySuccessMessage.style.opacity = 1;

      
      
      
      

      e.clearSelection();
    });

    clipboard.on('error', function(e) {
      console.error('Action:', e.action);
      console.error('Trigger:', e.trigger);
    });

    document.addEventListener('click', function(event) {
      if (event.target !== copyButton) {
        copySuccessMessage.style.display = 'none';
        copySuccessMessage.style.opacity = 0;
      }
    });
  };

  document.head.appendChild(script);
});
</script>


  

<script src="/webmention.min.js" defer></script>
<div id="webmentions"></div>


  

  <footer class="opacity-6">
    <p><a href="/colophon">Colophon</a></p><p><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0</a></p>
  </footer>

</body>

<script src="/han.min.js" defer></script>



<script type="application/json" class="js-hypothesis-config" defer>
{
    "sideBySide": {
        "mode": "manual"
    }
}
</script>

<script defer>
    var mainElement = document.querySelector('main');
    var contentHeader = document.querySelector('section.content-header');
    const headers = mainElement.querySelectorAll('h2, h3');
    document.addEventListener('DOMContentLoaded', function () {

        if (contentHeader) {
            contentHeader.querySelector('#show-hypo').style.display = 'flex';
        }

        handleScrollEvents();

        applyBreakAllClass();

        setupSidenotes();

        initializeMutationObserver();

        initializeTOCFeatures();

        preventMultiTouchGestures();

        setExternalLinksToOpenInNewTab();
    });

    function updateHHangableBehavior() {
        var sidenoteHangables = mainElement.querySelectorAll('.sidenote-number + h-hangable');
        sidenoteHangables.forEach(function (hHangable) {
            var sidenoteNumber = hHangable.previousElementSibling;
            var sidenoteBox = sidenoteNumber.querySelector('.sidenote-box');
            if (sidenoteBox) {
                sidenoteNumber.insertBefore(hHangable, sidenoteBox);
            }
        });
    }

    function initializeMutationObserver() {
        var observer = new MutationObserver(function (mutations) {
            var shouldUpdate = false;
            mutations.forEach(function (mutation) {
                mutation.addedNodes.forEach(function (node) {
                    if (node.nodeType === 1 && node.matches('h-hangable')) {
                        var previousSibling = node.previousElementSibling;
                        if (previousSibling && previousSibling.matches('.sidenote-number')) {
                            shouldUpdate = true;
                        }
                    }
                });
            });
            if (shouldUpdate) {
                setTimeout(updateHHangableBehavior, 1200);
            }
        });

        var config = { childList: true, subtree: true };
        if (mainElement) {
            observer.observe(mainElement, config);
        }
    }

    function applyBreakAllClass() {
        var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
        var codeElements = mainElement.querySelectorAll('code');

        codeElements.forEach(function (element) {
            if (screenWidth <= 960) {
                if (element.textContent.length > 10) {
                    element.classList.add('break-all');
                }
            }
            else {
                if (element.textContent.length > 30) {
                    element.classList.add('break-all');
                }
            }
        });
    }

    function handleScrollEvents() {
        if (contentHeader) {
            let lastScrollTop = 0;
            let isScrolling = false;
            const addnDiv = contentHeader.querySelector('.addn');
            const topScrollBar = contentHeader.querySelector('.top-scroll-bar');

            window.addEventListener('scroll', function () {
                const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
                if (!isScrolling) {
                    window.requestAnimationFrame(function () {
                        if (topScrollBar) {
                            const scrollPercent = (currentScroll / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
                            topScrollBar.style.width = scrollPercent + '%';
                            topScrollBar.style.display = 'block';
                        }
                        if (addnDiv) {
                            if (currentScroll > lastScrollTop && currentScroll > 50) {
                                addnDiv.classList.remove('visible');
                            } else {
                                addnDiv.classList.add('visible');
                            }
                        }
                        lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
                        isScrolling = false;
                    });
                    isScrolling = true;
                }
                if (window.innerWidth >= 1600) {
                    toggleTOCOnScroll();
                }
            }, false);
        }
    }

    function showHypo() {
        var existingScript = document.getElementById('hypothes-script');
        var button = contentHeader.querySelector('#show-hypo');

        if (!existingScript) {
            button.textContent = 'Loading';

            var script = document.createElement('script');
            script.id = 'hypothes-script';
            script.src = 'https://hypothes.is/embed.js';

            script.onload = () => {
                button.textContent = 'Hypothes.is';
            };

            script.onerror = () => {
                button.style.color = 'red';
                button.textContent = 'Failed';
            };

            
            document.body.appendChild(script);
        } else {
            toggleHypothesisElementsVisibility();
            button.style.color = 'var(--text-color)';
        }
    }

    function toggleHypothesisElementsVisibility() {
        const elementsToToggle = [
            'hypothesis-sidebar',
            'hypothesis-notebook',
            'hypothesis-profile',
            'hypothesis-adder',
            'hypothesis-highlight-cluster-toolbar'
        ];

        elementsToToggle.forEach(function (element) {
            var el = document.querySelector(element);
            if (el) {
                if (el.style.display === 'none') {
                    el.style.display = '';
                } else {
                    el.style.display = 'none';
                }
            }
        });
    }


    function initializeTOCFeatures() {
        if (contentHeader) {
            const contentsFixedDiv = contentHeader.querySelector('#contents-fixed');
            const tocContainer = contentHeader.querySelector('#contents-toc');
            if (contentsFixedDiv && headers.length > 1) {
                contentsFixedDiv.style.display = 'flex';
                contentsFixedDiv.addEventListener('click', (event) => {
                    toggleTOC();
                    event.stopPropagation();
                });
            }
            if (tocContainer && !tocContainer.dataset.initialized) {
                const throttledHighlight = throttle(highlightAppropriateHeader, 250);
                window.addEventListener('scroll', throttledHighlight);
                tocContainer.dataset.initialized = 'true';
            }
        }
    }

    function highlightAppropriateHeader() {
        let highlightedHeader = null;
        let foundHeaderInView = false;

        
        for (let i = 0; i < headers.length; i++) {
            const header = headers[i];
            const bounding = header.getBoundingClientRect();

            if (bounding.top >= 0 && bounding.bottom <= window.innerHeight) {
                highlightedHeader = header; 
                foundHeaderInView = true;
                break;
            }
        }

        
        if (!foundHeaderInView) {
            for (let i = 0; i < headers.length; i++) {
                const header = headers[i];
                let nextHeader = headers[i + 1];
                let endOfSection = nextHeader ? nextHeader.getBoundingClientRect().top : Infinity;

                const startOfSection = header.getBoundingClientRect().bottom;

                if (startOfSection < window.innerHeight && endOfSection > 0) {
                    highlightedHeader = header;
                    break;
                }
            }
        }

        
        contentHeader.querySelectorAll('nav#TableOfContents a').forEach(link => {
            link.classList.remove('toc-highlight');
        });

        
        if (highlightedHeader) {
            const link = contentHeader.querySelector(`nav#TableOfContents a[href="#${highlightedHeader.id}"]`);
            if (link) {
                link.classList.add('toc-highlight');
            }
        }
    }

    function toggleTOC() {
        const tocContainer = contentHeader.querySelector('#contents-toc');
        const isDisplayed = window.getComputedStyle(tocContainer).display !== 'none';
        tocContainer.style.display = isDisplayed ? 'none' : 'flex';
    }

    function toggleTOCOnScroll() {
        const tocContainer = document.querySelector('#TableOfContents');
        const footerNav = document.querySelector('.footer-nav');

        if (!tocContainer || !footerNav) return;

        const footerNavTop = footerNav.getBoundingClientRect().top;
        const windowHeight = window.innerHeight;

        
        if (footerNavTop <= windowHeight) {
            tocContainer.style.display = 'none';
        } else {
            tocContainer.style.display = 'flex';
        }
    }

    function throttle(func, limit) {
        let lastFunc;
        let lastRan;
        return function () {
            const context = this;
            const args = arguments;
            if (!lastRan) {
                func.apply(context, args);
                lastRan = Date.now();
            } else {
                clearTimeout(lastFunc);
                lastFunc = setTimeout(function () {
                    if ((Date.now() - lastRan) >= limit) {
                        func.apply(context, args);
                        lastRan = Date.now();
                    }
                }, limit - (Date.now() - lastRan));
            }
        }
    }

    function setExternalLinksToOpenInNewTab() {
        const links = document.querySelectorAll('.e-content a[href*="//"]:not(.stream-url)');
        const linkDisplay = document.querySelector('.link-display');

        links.forEach(function (link) {
            link.setAttribute('target', '_blank');

            link.addEventListener('mouseover', function () {
                const url = new URL(this.href);
                const rootDomain = url.hostname.replace(/^www\./, '');
                const boldDomain = `<span class="bold-domain">${rootDomain}</span>`;
                const displayUrl = this.href.replace(rootDomain, boldDomain);

                linkDisplay.innerHTML = displayUrl;
                linkDisplay.style.display = 'block';
                const linkRect = this.getBoundingClientRect();
                linkDisplay.style.top = `${linkRect.bottom + window.scrollY}px`;
                linkDisplay.style.left = `${linkRect.left + window.scrollX}px`;
            });

            link.addEventListener('mouseout', function () {
                linkDisplay.style.display = 'none';
            });
        });
    }

    function setupSidenotes() {
        if (mainElement.querySelectorAll('.sidenote-number').length >= 3 && window.innerWidth >= 1000) {
            const sidenoteLine = mainElement.querySelectorAll('.sidenote-line');

            sidenoteLine.forEach(element => {
                element.style.border = 'none';
            });

            var jQueryScript = document.createElement('script');
            jQueryScript.src = '/jquery-3.6.0.min.js';
            document.head.appendChild(jQueryScript);

            jQueryScript.onload = function () {
                var jsPlumbScript = document.createElement('script');
                jsPlumbScript.src = '/jsplumb.min.js';
                document.head.appendChild(jsPlumbScript);

                jsPlumbScript.onload = function () {
                    initJsPlumb();
                };
            };
        }
    }

    function initJsPlumb() {
        var jsPlumbCSS = document.createElement('link');
        jsPlumbCSS.href = '/jsplumbtoolkit-defaults.min.css';
        jsPlumbCSS.rel = 'stylesheet';
        document.head.appendChild(jsPlumbCSS);

        jQuery(document).ready(function () {
            jsPlumb.importDefaults({
                ConnectionsDetachable: false,
                ReattachConnections: false,
                Endpoint: "Blank",
                Connector: ["Straight"],
                PaintStyle: { stroke: "var(--text-color)", strokeWidth: 1 }
            });

            createConnections();
            var resizeObserver = new ResizeObserver(function () {
                createConnections();
            });
            resizeObserver.observe(document.body);
        });
    }

    function createConnections() {
        jsPlumb.deleteEveryEndpoint();
        jQuery('.sidenote-number').each(function () {
            var sidenoteNumber = jQuery(this);
            var sidenote = sidenoteNumber.find('.sidenote');

            if (sidenote.length) {
                jsPlumb.connect({
                    source: sidenoteNumber[0],
                    target: sidenote[0],
                    anchors: ["Center", "RightMiddle"],
                    cssClass: "jsplumb-line"
                });
            }
        });
    }


    function preventMultiTouchGestures() {
        window.onload = function () {
            document.addEventListener('touchstart', function (event) {
                if (event.touches.length > 1) {
                    event.preventDefault();
                }
            }, false);
            var lastTouchEnd = 0;
            document.addEventListener('touchend', function (event) {
                var now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            document.addEventListener('gesturestart', function (event) {
                event.preventDefault();
            }, false);
        }
    }
</script>

</html>